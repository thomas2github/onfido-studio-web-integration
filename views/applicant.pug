extends layout

block content
    .content
        .container-fluid
            .row
                .col-lg-6.col-md-8.col-sm-12
                    .card
                        .card-header.card-header-primary
                            .float-right
                                if !applicant.deletedAt
                                    button.btn.btn-primary.mr-4(type='button' data-toggle='modal' data-target='#deleteModal') delete
                                    a.btn.btn-info(href='/resources/applicants/'+applicant.id+'/edit') edit
                                else
                                    button.btn.btn-warning(type='button' data-toggle='modal' data-target='#restoreModal') restore
                            .float-left
                                button.btn.btn-primary.mr-4.goback &lt;
                            h4.card-title= 'Applicant created at '
                                +displayDate(applicant.createdAt)
                            p.card-category=  applicant.id
                        .card-body
                            .row.justify-content-center
                                .col-10
                                    .form-group
                                        label.bmd-label-floating Firstname
                                        input#firstName.form-control(type='text' name='firstName' value=applicant.firstName disabled)
                                    .form-group
                                        label.bmd-label-floating Lastname
                                        input#lastName.form-control(type='text' name='lastName' value=applicant.lastName disabled)
                                    .form-group
                                        label.bmd-label-floating Date of birth
                                        input#dob.form-control(type='text' name='dob' value=applicant.dob disabled)
                                    .form-group
                                        label.bmd-label-floating Email
                                        input#email.form-control(type='email' name='email' value=applicant.email disabled)
                                    h6.my-4 Address
                                        .float-right
                                            .small(data-toggle='collapse' data-target='.extended')  extended
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Flat number
                                        input#addressFlatNumber.form-control(type='string' name='addressFlatNumber' value=(applicant.address)?applicant.address.flatNumber:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Building number
                                        input#addressBuildingNumber.form-control(type='string' name='addressBuildingNumber' value=(applicant.address)?applicant.address.buildingNumber:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Building name
                                        input#addressBuildingName.form-control(type='string' name='addressBuildingName' value=(applicant.address)?applicant.address.buildingNamer:'' disabled)
                                    .form-group
                                        label.bmd-label-floating Street
                                        input#addressStreet.form-control(type='string' name='addressStreet' value=(applicant.address)?applicant.address.street:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Sub-street
                                        input#addressSubStreet.form-control(type='string' name='addressSubStreet' value=(applicant.address)?applicant.address.subStreet:'' disabled)
                                    .form-group
                                        label.bmd-label-floating Town
                                        input#addressTown.form-control(type='string' name='addressTown' value=(applicant.address)?applicant.address.town:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating State
                                        input#addressState.form-control(type='string' name='addressState' value=(applicant.address)?applicant.address.state:'' disabled)
                                    .form-group
                                        label.bmd-label-floating Postcode
                                        input#addressPostcode.form-control(type='string' name='addressPostcode' value=(applicant.address)?applicant.address.postcode:'' disabled)
                                    .form-group
                                        label.bmd-label-floating Country
                                        input#addressCountry.form-control(type='string' name='addressCountry' value=(applicant.address)?countries.find(country => country.countryCode === applicant.address.country).countryName:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Line 1
                                        input#addressLine1.form-control(type='string' name='addressLine1' value=(applicant.address)?applicant.address.line1:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Line 2
                                        input#addressLine2.form-control(type='string' name='addressLine2' value=(applicant.address)?applicant.address.line2:'' disabled)
                                    .form-group.extended.collapse
                                        label.bmd-label-floating Line 3
                                        input#addressLine3.form-control(type='string' name='addressLine3' value=(applicant.address)?applicant.address.line3:'' disabled)
                .col-lg-6.col-md-8.col-sm-12
                    .card
                        .card-header.card-header-warning
                            .float-right
                                a.btn.btn-info(href='/resources/applicants/'+applicant.id+'/checks/new') new
                            h4.card-title Checks
                            if checks.length > 0
                                p.card-category Click on check to go details
                        .card-body
                            if checks.length > 0
                                .table-responsive
                                    table.table.table-hover
                                        thead.text-primary
                                            th
                                                | Created at
                                            th
                                                | Status
                                            th
                                                | Result
                                            th
                                                | ID
                                        tbody
                                            each check in checks
                                                tr.js-clickable(href='/resources/checks/'+check.id)
                                                    td
                                                        +displayDate(check.createdAt)
                                                    td
                                                        +displayCheckStatus(check.status)
                                                    td
                                                        +displayCheckResult(check.result)
                                                    td= check.id
                    .card
                        .card-header.card-header-info
                            .float-right
                                a.btn.btn-info(href='/resources/applicants/'+applicant.id+'/documents/upload') add
                            h4.card-title Documents
                            if documents.length > 0
                                p.card-category Click on doc to go details
                        .card-body
                            if documents.length > 0
                                .d-flex.flex-row.justify-content-center.flex-wrap
                                    each document in documents
                                        .card.text-center.mr-4.js-clickable(href='/resources/documents/'+document.id, style='width:8rem;')
                                            i.material-icons.pt-4(style='font-size:36px') assignment_ind
                                            .card-body
                                                .card-text
                                                    small= document.type
                                                .card-text
                                                    small= document.side
                                                .card-text
                                                    small= '(' + Math.round(document.fileSize/1024).toString() + ' Ko)'
                    .card
                        .card-header.card-header-info
                            .float-right
                                a.btn.btn-info(href='/resources/applicants/'+applicant.id+'/photos/upload') add
                            h4.card-title Photos
                            if photos.length > 0
                                p.card-category Click on photo to go details
                        .card-body
                            if photos.length > 0
                                .d-flex.flex-row.justify-content-center.flex-wrap
                                    each photo in photos
                                        .card.text-center.mr-4.js-clickable(href='/resources/photos/'+photo.id, style='width:8rem;')
                                            i.material-icons.pt-4(style='font-size:36px') portrait
                                            .card-body
                                                .card-text
                                                    small= '(' + Math.round(photo.fileSize/1024).toString() + ' Ko)'
                    .card
                        .card-header.card-header-info
                            .float-right
                                a.btn.btn-info(href='/resources/applicants/'+applicant.id+'/videos/upload') add
                            h4.card-title Video
                            if videos.length > 0
                                p.card-category Click on video to go details
                        .card-body
                            if videos.length > 0
                                .d-flex.flex-row.justify-content-center.flex-wrap
                                    each video in videos
                                        .card.text-center.mr-4.js-clickable(href='/resources/videos/'+video.id, style='width:8rem;')
                                            i.material-icons.pt-4(style='font-size:36px') play_circle_outline    
                                            .card-body
                                                .card-text
                                                    small= '(' + Math.round(video.fileSize/1024).toString() + ' Ko)'
    div#deleteModal.modal(tabindex='-1' role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title Applicant deletion!
                .modal-body
                    p Please confirm you want to delete this applicant and all related data.
                .modal-footer
                    a.btn.btn-danger(type='button' href=('/resources/applicants/' + applicant.id + '/delete')) delete
                    button.btn.btn-info(type='button' data-dismiss='modal') cancel

    div#restoreModal.modal(tabindex='-1' role='dialog')
        .modal-dialog(role='document')
            .modal-content
                .modal-header
                    h5.modal-title Restore applicant!
                .modal-body
                    p Please confirm you want to restore this applicant and all related data.
                .modal-footer
                    a.btn.btn-danger(type='button' href=('/resources/applicants/' + applicant.id + '/restore')) restore
                    button.btn.btn-info(type='button' data-dismiss='modal') cancel
