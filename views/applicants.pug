extends layout

block content
    .d-flex.flex-column
        form#applicantsTotDelete(action='/applicants/delete' method='post')
            
            - var disablePrevious = (page == 1)
            - var previousPage = parseInt(page) - 1
            - var disableNext = (page == totalPages)
            - var nextPage = parseInt(page) + 1
            .flex-row.align-items-center
                h6.text-primary.float-left.my-2= totalApplicants + ' applicants'
                if totalApplicants > 20
                    nav.float-rigth(aria-label='Page navigation example')
                        ul.pagination.justify-content-end(style='font-size: 0.8rem;')
                            li.page-item(class=disablePrevious?'disabled':'')
                                a.page-link(class=disablePrevious?'text-secondary disabled':'text-primary' href=disablePrevious?'':'/applicants?page='+previousPage tabindex='-1') Previous
                            li.page-item(class=disableNext?'disabled':'')
                                a.page-link(class=disableNext?'text-secondary disabled':'text-primary' href=disableNext?'':'/applicants?page='+nextPage) Next
            
            table#applicantsTable.table(style='font-size: 0.8rem;')
                thead
                    tr
                        th 
                            small FIRSTNAME
                        th 
                            small LASTNAME
                        th
                            small ID
                        th 
                            small CREATED AT
                        th 
                            small CHECKS
                        th.text-center
                            button#deleteSelectedApplicants.btn.btn-sm.btn-outline-danger(type='submit')
                                i.material-icons.text-danger delete
                            input#switchAll.ml-2(type='checkbox')
                tbody
                    if applicants
                        - var currentId = (applicant)?applicant.id:null;
                        each applicant in applicants
                            if applicant.id != currentId
                                tr
                                    td= applicant.first_name
                                    td= applicant.last_name
                                    td
                                        a(href='/applicants/'+applicant.id)
                                            .text-primary= applicant.id
                                    td 
                                        +displayDate(applicant.created_at)
                                    td.text-center= applicant.total_checks
                                    td.text-center
                                        input(type='checkbox' name='applicantsToDelete' value=applicant.id)            
                tfoot
                    tr.text-info
                        td.filter
                        td.filter
                        td.filter
                        td.filter
                        td.filter.d-none